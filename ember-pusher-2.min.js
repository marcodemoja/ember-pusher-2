!function(e){var n,i;!function(){var e={},t={};n=function(n,i,t){e[n]={deps:i,callback:t}},i=function(n){if(t[n])return t[n];t[n]={};var r=e[n];if(!r)throw new Error("Module '"+n+"' not found.");for(var s,o=r.deps,c=r.callback,u=[],d=0,h=o.length;h>d;d++)"exports"===o[d]?u.push(s={}):u.push(i(o[d]));var l=c.apply(this,u);return t[n]=s||l}}(),n("ember-pusher-2/bindings",["exports"],function(e){"use strict";var n="undefined"!=typeof window?window:{},i=n.Ember,t=i.Mixin.create({init:function(){var e;this._super(),this.PUSHER_SUBSCRIPTIONS&&(e=this,i.keys(e.PUSHER_SUBSCRIPTIONS).forEach(function(n){var i=e.PUSHER_SUBSCRIPTIONS[n];e.pusher.wire(e,n,i)}))},willDestroy:function(){var e;this.PUSHER_SUBSCRIPTIONS&&(e=this,i.keys(e.PUSHER_SUBSCRIPTIONS).forEach(function(n){e.pusher.unwire(e,n)}),this._super())},_pusherEventsId:function(){return this.toString()}});e.Bindings=t}),n("ember-pusher-2/client_events",["exports"],function(e){"use strict";var n="undefined"!=typeof window?window:{},i=n.Ember,t=i.Mixin.create({pusherTrigger:function(e,n,i){var t=this.pusher.channelFor(e);t.trigger(n,i)}});e.ClientEvents=t}),n("ember-pusher-2/controller",["exports"],function(e){"use strict";var n="undefined"!=typeof window?window:{},i=n.Ember,t=function(e,n){return function(){return e.apply(n,arguments)}},r=i.Controller.extend({connection:null,isDisconnected:!0,isConnected:i.computed.not("isDisconnected"),init:function(){this._super(),this.set("bindings",{})},didCreatePusher:function(e){this.set("connection",e),e.connection.bind("connected",t(this._didConnect,this)),e.connection.bind("disconnected",t(this._didDisconnect,this)),e.connection.bind("unavailable",t(this._didDisconnect,this))},wire:function(e,n,t){i.assert("Did you forget to extend the EmberPusher.Bindings mixin in your class receiving events?",!!e._pusherEventsId);var r=this.connectChannel(n),s=this.get("bindings"),o=e._pusherEventsId();s[n].eventBindings[o]||(s[n].eventBindings[o]=[]),t.forEach(function(t){var c;i.String.camelize(t);c=function(n){e.get("logPusherEvents")&&console.log(e.constructor.toString()+": Pusher event received",t,n),e.send(i.String.camelize(t),n)},r.bind(t,c),s[n].eventBindings[o].pushObject({handler:c,eventName:t})})},connectChannel:function(e){var n=this.get("connection"),t=this.get("bindings");return t[e]||(t[e]={eventBindings:{}}),i.isEmpty(i.keys(t[e].eventBindings))&&(t[e].channel=n.subscribe(e),this.namespace&&this.namespace.PUSHER_OPTS.logAllEvents&&t[e].channel.bind_all(function(n,i){console.log("Pusher event received on "+e+":",n,i)})),t[e].channel},unwire:function(e,n){var t=this.get("connection"),r=this.get("bindings"),s=e._pusherEventsId(),o=r[n].channel;for(var c in r[n].eventBindings[s])o.unbind(c.eventName,c.handler);return delete r[n].eventBindings[s],0===i.keys(r[n].eventBindings).length?(t.unsubscribe(n),delete r[n],!0):!1},channelFor:function(e){return this.get("bindings")[e].channel},socketId:function(){try{return this.get("connection").connection.socket_id}catch(e){console.warn(e)}}.property("isDisconnected"),_didConnect:function(){this.set("isDisconnected",!1)},_didDisconnect:function(){this.set("isDisconnected",!0)}});e.Controller=r}),n("ember-pusher-2/instance-initializer",["ember-pusher-2/controller","exports"],function(e,n){"use strict";function i(){if(!s)throw"Include Ember before EmberPusher";if(!o)throw"Include Pusher before EmberPusher";s.Application.initializer({name:"pusherConnected",initialize:function(e){var n,i,r,c;c="pusher:main",e.register(c,t),n=e.lookup(c),i=e.PUSHER_OPTS,s.assert("You need to provide PUSHER_OPTS on your application",i),s.assert("You need to include the pusher libraries","undefined"!=typeof o),r=new o(i.key,i.connection),n.didCreatePusher(r),e.inject("controller","pusher",c),e.inject("route","pusher",c)}})}var t=e.Controller,r="undefined"!=typeof window?window:{},s=r.Ember,o=r.Pusher;n.initialize=i}),n("ember-pusher-2",["ember-pusher/controller","ember-pusher-2/bindings","ember-pusher-2/client_events","ember-pusher-2/instance-initializer","exports"],function(e,n,i,t,r){"use strict";var s=e.Controller,o=n.Bindings,c=i.ClientEvents,u=t.initialize;u(),r.Controller=s,r.Bindings=o,r.ClientEvents=c,r.initialize=u}),window.EmberPusher=i("ember-pusher-2")}(window);
